---
title: "雑感20180727"
date: 2018-07-28T03:22:57+09:00
---

# マストドンのバージョンを更新

自分専用おひとり鯖の[マストドン](https://mstdn.binfish.jp)のバージョンを2.4.3に更新した。

<!--more-->

v2.4.0 => v2.4.3 の更新だったけれど、最初DBのマイグレーションタスクを叩いてエラー。

調べてみるとマストドン本体のリポジトリにあった下記issueと全く同じ状況だった。

[Relation "custom_filters" does not exist #8007](https://github.com/tootsuite/mastodon/issues/8007)

コメントに書き込まれている通り、v2.4.0 => v2.4.1 => v2.4.3 と順を追って更新することで正常にアプデできた。

マイグレーション対象のテーブルにv2.4.1で作成されるテーブルがあったということらしい。

理由が分かればなるほどという感じだが、毎度溜まったアプデをひとつひとつ適用していくのはめんどくさい。。

弊鯖はアプリモジュールとDBでインスタンスを分けているため2台のサーバで構成されているのだけど、バージョンアップの際にはそれぞれ手動でバックアップを取りながらやっているので順調にいっても30分くらい掛かってしまう。

(バックアップはサーバ全体のスナップショットを取る方式)

鯖立てた当初こそ本体のバージョンアップリリースに我先にと追随してアップデートしていたけど、最近はめっきり頻度が下がってしまい毎度手順を思い出しながらやっている…

もう少し効率化してアグレッシブに更新していきたい。
(それはそれでまだ誰も踏んでいない新しいトラップを踏む可能性もありそうだけどそれはそれ)

.

.

.

# またひとつ歳をとった

先日またひとつ歳を取りました。

職場でもSNSでも誕生日を秘匿しているので、基本的には身内からだけ祝福される慎ましい誕生日でした。

今年はいろんな意味でひとつ区切りになりそうな年で、仕事もプライベートもがんばらないとな、と改めて気を引き締めました。

人間的にもエンジニアとして技術的にも本当にまだまだ未熟だけど、最近つくづく感じるのは自分が"そうありたい" "そうなりたい"と強く意識して体現・実行していかないと、人間堕落していくものなんだなということ。

小さなことでもコツコツと。
次の1年も地道に積み重ねていきたいなと思います。

これからもどんどんやりたいことやってくぞー。

今年こそなにか資格を取るぞー。

...

[壁]ω･*\)つ[干芋](https://www.amazon.co.jp/gp/registry/wishlist/3C1MWGD3YMV6V/ref=cm_wl_huc_view)

[壁]|彡ｻｯ


